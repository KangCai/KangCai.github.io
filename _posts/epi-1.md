
# ELEMENTS OF PROGRAMMING INTERVIEWS IN PYTHON

PYTHON 编程面试的要素

## 简介

此书目标在于帮助软件工程师的面试。专注方向包括：数据结构、算法、系统设计以及问题解决。大多以问题的方式展现。

## 第一部分：面试

面试流程通常包括下列步骤：

（1）识别定位感兴趣的公司，最好找在职员工了解详情；
（2）通过内推、官网投递、校招等方式投递简历；
（3）电话面试（外企流程）；
（4）线下面试，通常包括工程师、经理、HR等；
（5）接收 offer，开始协商合同。

面试的非技术方面：

（1）面试流程；
（2）面试技巧；
（3）职业品质；
（4）面试演练。

## 第二部分：数据结构和算法

### 基本类型

1. 熟练使用位运算，特别是 XOR 异或操作
2. 理解如何使用 masks 掩码，并且用一种与机器无关的方式创建它们（？）
3. 知道清除最后一个1的最快方式（扩展问题，置最后一位为0、获取某一位的下标）
4. 理解有符号类型，并且它对偏移量的影响
5. 考虑用缓存来用在小输入情况下进行加速运算

#### 计算一个数二进制形式的奇偶性

* 题干
    * 二进制形式下1的个数为奇数，则就奇偶性为1；若1的个数为偶数，则奇偶性为0；
* 解法
    * O(n): 直接算个数
    * O(k): `x&=x-1` 快速置末尾1
    * O(n/l): l 为哈希段长度，哈希总数为 2^l 个，比如对于 64bit 数字，可以取 l = 16
    * O(logn): 巧妙方法，使用 XOR 操作，直接两两分段抵消 `x^=x>>32`
    * 结合: 先 XOR 两次到 16 长度，然后再直接 hash
* 变种：O(1) 时间复杂度求解问题
    * 右向传播最右的置位，比如 01010000 变成 010111111: `x|=x-1`
    * 求 x 关于 2 的指数幂的模，比如 77 模 64 是 13: 相当于左侧的对应长度置位改成0，`x&=64-1`
    * 判断一个数是否是 2 的指数幂：`x^(x-1)==0`
    * 提取出最低位：`x^~(x-1)`
    
#### 交换比特位

* 题干
    * 交换下标为 i、j 的两个位
* 解法
    * O(n): 当做数组暴力求解
    * O(1): i、j 两位取出来，组成 j、i 位置上的新数，然后加到清掉 i、j 位置的原数
    * O(1): 更快捷的方式，由于 i、j 位的值相同时，不用做任何操作；i、j 位的值不同时，直接反转各自即可 `if (x>>i)&1 != (x>>j)&1: x ^= (1<<i) | (1<<j)`
* 思考
    * 什么时候回用到交换比特位？

#### 反转二进制

* 题干
    * 反转 x 的二进制表示
* 解法
    * O(n/l): l 为哈希段长度，比如 l 为 16，即每段 16，分段查表再重新拼接
    
#### 找到最近的同二进制重量的数

* 题干
    * 找到 x 最近的二进制重量的数，其中二进制重量指的是数在二进制表示下1的总个数
* 解法
    * O(2^n): 暴力解法，`x-1,x+1,x-2,x+2,...` 尝试
    * O(n): 借助交换比特位，从 0 位开始，如果第 k 和 k+1 的值不一样，则交换两位，交换后就是解。如果所有位都是0或1，则没有解

#### 在不使用算术符的前提下，求解 x * y

* 题干
    * 只能使用 `=`、`>>`、`<<`、`|`、`&`、`~`、`^`、`==`、`!=`、`and`、`or`、`!`
* 解法，设 x 的长度为 n 比特位
    * O(n*2^n): 暴力把 x 自加 y 遍，每个加法需要 `^` XOR n 遍
    * O(n^2)：可以采用二进制的错位相加，比如 13=(1101)，9=(1001)，那么可以从 13 的二进制表示的最低位开始，1001 + 0 + 1001<<2 + 1001<<3，同样，每个加法需要 `^` XOR n 遍